
OpenSBI v0.4 (Jul  2 2019 11:53:53)
   ____                    _____ ____ _____
  / __ \                  / ____|  _ \_   _|
 | |  | |_ __   ___ _ __ | (___ | |_) || |
 | |  | | '_ \ / _ \ '_ \ \___ \|  _ < | |
 | |__| | |_) |  __/ | | |____) | |_) || |_
  \____/| .__/ \___|_| |_|_____/|____/_____|
        | |
        |_|

Platform Name          : QEMU Virt Machine
Platform HART Features : RV64ACDFIMSU
Platform Max HARTs     : 8
Current Hart           : 0
Firmware Base          : 0x80000000
Firmware Size          : 112 KB
Runtime SBI Version    : 0.1

PMP0: 0x0000000080000000-0x000000008001ffff (A)
PMP1: 0x0000000000000000-0xffffffffffffffff (A,R,W,X)
(THU.CST) os is loading ...
Special kernel symbols:
  entry  0xffffffffc0200036 (virtual)
  etext  0xffffffffc02016b0 (virtual)
  edata  0xffffffffc0206010 (virtual)
  end    0xffffffffc0228758 (virtual)
Kernel executable memory footprint: 162KB
memory management: buddy_pmm_manager
physcial memory map:
  memory: 0x0000000007e00000, [0x0000000080200000, 0x0000000087ffffff].
  maxpa: 0x0000000088000000
  end: 0xffffffffc0228758
  nbase: 0x0000000080000000
  mem_begin: 0x0000000080369000
  mem_end: 0x0000000088000000
-----------------------------------------------------

The test process is as follows:
First,alloc   p0 p1 p2  p3
sizes of them 70 35 257 63
the buddy block:    |64+64|64|64|128+128|512|
the pages we alloc: |p0   |p1|p3|empty  |p2|
then,free. p0 p1 p3
now,the first 512 pages are free
then alloc:     p4  p5
sizes of the:   255 255
now,the distribution in memory space are below:
|256|256|256|
|p4 |p5 |p2 |
Last,free all buddy blocks.
Notice!addr of pointer is the base addr of the buddy block
we use cprintf() show the progress and if you want, you can use assert() to judge.

------------------------------------------------------
p0 0xffffffffc0231868
p1 0xffffffffc0232c68
p1-p0 equal 0x80 ?=128
p2 0xffffffffc0236868
p2-p1 equal 0x180 ?=128+256
p3 0xffffffffc0233668
p3-p1 equal 0x40 ?=64
free p0!
free p1!
free p3!
p4 0xffffffffc0231868
p2-p4 equal 0x200 ?=512
p5 0xffffffffc0234068
p5-p4 equal 0x100 ?=256
free p2!
free p4!
free p5!
CHECK DONE!
check_alloc_page() succeeded!
satp virtual address: 0xffffffffc0205000
satp physical address: 0x0000000080205000
++ setup timer interrupts
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
100 ticks
